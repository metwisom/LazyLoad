<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div class="images">
		<img width="20%" msrc="http://lorempixel.com/400/200/sports/1/" alt="">
		<img width="20%" msrc="http://lorempixel.com/400/200/sports/2/" alt="">
		<img width="20%" msrc="http://lorempixel.com/400/200/sports/3/" alt="">
	</div>
	<div>
		<button onclick="updateAttrs()">change msrc attr</button>
		<button onclick="addElement()">add new element</button>
	</div>
</body>
<script type="text/javascript" src='../dist/bundle.min.js'></script>
<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", () => {
		window.mSrc.init();
		window.mSrc.watchElement(document.querySelector('.images'));
	});

	function getRandomArbitary(min, max) {
	  	return Math.floor(Math.random() * (max - min + 1)) + min;
	}


	function updateAttrs() {
		document.querySelectorAll("img").forEach(function(element) {
			element.setAttribute("msrc", "http://lorempixel.com/400/200/sports/"+getRandomArbitary(1,9)+"/");
		});
	};

	function addElement() {
		var element = document.createElement("img");
		element.setAttribute("msrc", "http://lorempixel.com/400/200/sports/"+getRandomArbitary(1,9)+"/");
		element.style.width = "20%";

		var el = document.querySelector('.images');
		el.append(element);
	};
</script>
</html>

